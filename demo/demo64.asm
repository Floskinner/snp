
%define CHR_LF        10 ; Line feed character

;-----------------------------------------------------------------------------
; Section DATA
;-----------------------------------------------------------------------------
SECTION .data

message: db "Hello world!"
         db CHR_LF
hh:      db "__:"
mm:      db "__:"
sec:     db "__ "
         db 48
         db CHR_LF
message_len    equ $-message

;-----------------------------------------------------------------------------
; Section RODATA
;-----------------------------------------------------------------------------
SECTION .rodata

;-----------------------------------------------------------------------------
; Section BSS
;-----------------------------------------------------------------------------
SECTION .bss

;-----------------------------------------------------------------------------
; Section TEXT
;-----------------------------------------------------------------------------
SECTION .text

        ;-----------------------------------------------------------
        ; PROGRAM'S START ENTRY
        ;-----------------------------------------------------------
        global _start:function  ; make label available to linker
_start:
        mov    eax,23  ; 59 / 10 = 5 * 10 + 9
        ; 1234 = 1 * 1000 + 2 * 100 + 3 * 10 + 4
        mov    bl,10
        div    bl

        ; 16-bit
        ;add    al,'0'  ; 4 dec -> 4 + 48 ('0') -> '4'
        ;add    ah,'0'  ; 2 dec
        add    ax,0x3030

        ; 16-bit
        ;mov    [zahl],al
        ;mov    [zahl+1],ah
        mov    [hh],ax  ; ax = ah:al

        mov    eax,30
        mov    bl,10
        div    bl
        add    ax,0x3030
        mov    [mm],ax  ; ax = ah:al

        mov    rdx,message_len
        mov    rsi,message
        mov    rdi,1
        mov    eax,1
        syscall

        mov    eax,60
        syscall

        ;-----------------------------------------------------------
        ; END OF PROGRAM
        ;-----------------------------------------------------------
